# Linux commands

## Get help with any command
    <command> --help                 #Gives a menu of different ways to use any command. Example is ```ls --help```
    man <command>                    #Gives a detailed mannual on any command. Example ```man whoami```

### Manually update, upgrade, and remove not needed packages with:
```sudo apt update && sudo apt full-upgrade -y && sudo apt autoremove -y```
  
### Automatically update linux servers with:
    sudo apt install unattended-upgrades && sudo dpkg-reconfigure -plow unattended-upgrades -y

### resolve ip to hostname
    sudo apt install avahi-daemon
  
### SSH to remote server
  login using ```ssh username@computername.local``` instead of ```ssh username@IP```

  ### Web interface
  ```sudo apt install cockpit```
  - Type the IP of the linux server in the URL search of your favorite browser with :9090
  - Exampale is ```10.10.10.10:9090```
  - login with credentials of linux server

## System
    #                                #terminal ignores everything after the hashtag. I'm using it for comments on the commands.
    whoami                           #shows who you are logged in as
    w                                #display who is online
    uname -a                         #Displays linux system info
    uname -r                         #Displays kernel release information 
    uptime                           #show how long the system has been running + load
    hostname                         #shows hostname and system info
    hostname -i                      #Display ip address of the host
    hostnamectl                      #shows detailed info about system host
    last reboot                      #show system reboot history
    date                             #show current date and time
    cal                              #show month and calendar
    finger user                      #display info about user
    
## Hardware
    dmesg                            #Detect hardware and boot messages
    cat file.txt                     #read the contents of file.txt
    cat /proc/cpuinfo                #CPU model
    cat /proc/meminfo                #Hardware memory
    cat /proc/interrupts             #lists the number of interrupts per CPU per IO device
    lshw                             #Display info on hardware config of system
    lsblk                            #Displays block device related info in linux
    df -h                            #displays file size and space in human readable format
    free -m                          #Used and free memory -m for MB
    lspci -tv                        #show PCI devices
    lsusb -tv                        #show USB devices
    dmidecode                        #show hardware info from the BIOS
    hdparm -i /dev/sda               #show info about disk sda
    hdparm -tT /dev/sda              #do a read speed test on disk sda
    badblocks -s /dev/sda            #test for unreadable blokcs on disk sda

## Users
    su                                #switch user
    sudo                              #super user do_basically run with admin privs
    id                                #show the activ user id with login and group
    last                              #show last logins on the system
    who                               #show who is logged on the system
    groupadd admin                    #Add group "admin"
    useradd -c "user1" g admin -m user1 #Create "user1" and add to admin group
    userdel user1                     #delete user1
    adduser user1                     #add user1
    usermod                           #modify user info

## File Commands
    pwd                               #print working directory_shows current file path
    ls                                #lists files in directory
    ll                                #lists all files in directory including hidden files
    ls -la                            #same as ll lists all files in directory including hidden files
    mkdir directory_to_make           #Creates a directory
    rm file.txt                       #removes/deletes file.txt
    rm -r dir_to_remove/              #removes/deletes entire directory recursively
    rm -rf dir_with_content/          #removes/deletes entire directory with content with recursively and force flags
    cp file_to_copy.txt new_file.txt  #copies a file
    cp -r dir_to_copy/ new_copy_dir/  #copies entire directories with recursive flag
    mv file1 file2                    #renames file or move to another directory
    ln -s /path/to/file-name link-name #Create symbolic link to file name
    touch file                        #create or update file
    cat > file                        #place standard input into file
    more file                         #output contents of file
    head file                         #output first 10 lines of file
    tail file                         #output last 10 lines of file
    tail -f file                      #output contents of file as it grows starting with the last 10 lines
    gpg -c file                       #encrypt file
    gpg file.gpg                      #decrypt file
    wc                                #print the number of bytes, words, and lines in file
    xargs                             #execute command lines from standard input
    
## Process Related
    htop                                  #A real-time display appears with information on how the CPU is being put to used
    ps                                    #display your currently active processes
    ps aux | grep 'telnet'                #find all process id related to telnet
    pmap                                  #memory map of process
    top                                   #display all running processes
    killpid                               #kill process with mentioned pid id
    killall proc                          #kill all processes named proc
    pkill process-name                    #send signal to a process with its name
    bg                                    #lists stopped or backgroud jobs
    fg                                    #brings the most recent job to foreground
    fg n                                  #bring job n to the foreground
    
## File permission Related
    chmod octal file-name                 #change the permissions of file to octal
    chmod 777 /data/test.txt              #set rwx permission for owner,group,world
    chmod 755 /data/test.txt              #set rwx permission for owner, rw for group and world
    chown owner-user file                 #change owner of the file
    chown owner-user:owner-group file-name #change ownwer and group owner of the file
    chown owner-user"owner-group directory #change owner and group owner of the directory

## Firewall
    sudo apt install ufw                  #install Uncomplicated FireWall for linux
    sudo apt-get install gufw             #install GUI version of firewall
    sudo ufw status                       #show firewall status
    sudo ufw status numbered              #show firewall status with ports
    sudo ufw enable                       #enables firewall and will run on reboot
    sudo systemctl status ufw.service     #view ufw service
    sudo ufw allow <port>                 #open a port in firewall
    sudo ufw default allow outgoing       #allow all outgoing connections
    sudo ufw default deny incoming        #block all incoming connections
    sudo nano /etc/default/ufw            #make firewall changes from terminal
    sudo more /var/log/ufw.log            #view ufw log for troubleshooting
    sudo tail -f /var/log/ufw.log         #view ufw log in real time with -f following flag

## Network
    ip a                                  #displays all network prots and ip address
    ifconfig -a                           #displays all network prots and ip address
    ifconfig eth0                         #displays specifici eth port
    ethtool eth0                          #linux tool to show ethernet status
    mii-tool eth0                         #linux tool to show ethernet status
    ping host                             #send echo request to test connection_example is ```ping google.com``` or ```ping 8.8.8.8```
    whois domain                          #get who is info for domain
    dig domain                            #get DNS info for domain
    dig -x host                           #reverse lookup host
    host google.com                       #lookup DNS ip address for the name
    hostname -i                           #lookup local ip address
    wget file                             #Download file_example ```wget https://raw.githubusercontent.com/david-sulton/Pentest/refs/heads/main/Linux%20commands.md```
    netstat -tunpl                         #list active connections to / from system
    ss -tuln                              #shows all listening TCP and UDP connections
    curl                                  #retrieves the content of a webpage from a URL
   
## Compression/Archives
       tar cf home.tar home               #create tar named home.tar containing home/
       tar xf file.tar                    #extract the files from file.tar
       tar czf file.tar.gz files          #create a tar with gzip compression
       gzip file                          #compress file and rename it to file.gz
       
## Install package
    rpm -i pkgname.rpm                    #install rpm based package
    rpm -e pkgname                        #remove package
    sudo apt install                      #install program or tool

## Install from Source
    ./configure
    make
    make install

## Search
    grep pattern files                    #search for pattern in files
    grep -r pattern dir                   #search recursively for pattern in dir
    locate file                           #find all instances of file
    find /home/tom -name 'index*'         #find files name that start with "index"
    *                                     # "*" is a wildcard
    find /home -size +10000k              #find files larger than 10000k in /home
    cat ~/.bash_history | grep ll         #search bash history for ll command
    
## Login
    ssh user@host                         #connect to host as user
    ssh -p port user@host                 #connect to host using specific port
    tlenet host                           #connect to the system using tlenet port

## File Transfer
    scp file.txt server2:/tmp             #secure copy file.txt to remote host /tmp folder
    rsync -a /home/apps /backup/          #synchronize source to destination

## Disk Usage
    df -h                                  #shows free space on mounted filesystem
    df -i                                  #show free inodes on mounted filesystem
    fdisk -l                               #show disk partitions sizes and types
    du -ah                                 #displays disk usage in human readable form
    du -sh                                 #displays total disk usage on the current directory
  
## Directory Traverse
    cd                                #change directory to $HOME directory
    cd ..                             #move a level up in file structure
    cd -                              #return to previous directory
    cd /test                          #change to /test directory
    
## Logs/Journal
    sudo journalctl -f                   #follows all services happening in background
    sudo journalctl -f -u <service>      #follow any service log for troubleshooting
    history | less                       #shows all command history, less gives you a list that allows forward and backward navigation (less is more!)
    

    
    
